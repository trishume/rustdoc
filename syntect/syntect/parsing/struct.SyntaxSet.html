<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `SyntaxSet` struct in crate `syntect`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, SyntaxSet">

    <title>syntect::parsing::SyntaxSet - Rust</title>

    <link rel="stylesheet" type="text/css" href="../../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../../main.css">
    

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'><a href='../index.html'>syntect</a>::<wbr><a href='index.html'>parsing</a></p><script>window.sidebarCurrent = {name: 'SyntaxSet', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content struct">
<h1 class='fqn'><span class='in-band'>Struct <a href='../index.html'>syntect</a>::<wbr><a href='index.html'>parsing</a>::<wbr><a class='struct' href=''>SyntaxSet</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a id='src-2183' class='srclink' href='../../src/syntect/src/parsing/syntax_set.rs.html#22-25' title='goto source code'>[src]</a></span></h1>
<pre class='rust struct'>pub struct SyntaxSet {
    pub syntaxes: <a class='struct' href='https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html' title='collections::vec::Vec'>Vec</a>&lt;<a class='struct' href='../../syntect/parsing/syntax_definition/struct.SyntaxDefinition.html' title='syntect::parsing::syntax_definition::SyntaxDefinition'>SyntaxDefinition</a>&gt;,
    pub is_linked: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>,
}</pre><div class='docblock'><p>A syntax set holds a bunch of syntaxes and manages
loading them and the crucial operation of <em>linking</em>.</p>

<p>Linking replaces the references between syntaxes with direct
pointers. See <code>link_syntaxes</code> for more.
Linking, followed by adding more unlinked syntaxes with <code>load_syntaxes</code>
and then linking again is allowed.</p>
</div><h2 class='fields'>Fields</h2><span id='structfield.syntaxes' class='structfield'><code>syntaxes: <a class='struct' href='https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html' title='collections::vec::Vec'>Vec</a>&lt;<a class='struct' href='../../syntect/parsing/syntax_definition/struct.SyntaxDefinition.html' title='syntect::parsing::syntax_definition::SyntaxDefinition'>SyntaxDefinition</a>&gt;</code>
                           </span><span class='stab '></span><span id='structfield.is_linked' class='structfield'><code>is_linked: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a></code>
                           </span><span class='stab '></span><h2 id='methods'>Methods</h2><h3 class='impl'><span class='in-band'><code>impl <a class='struct' href='../../syntect/parsing/struct.SyntaxSet.html' title='syntect::parsing::SyntaxSet'>SyntaxSet</a></code></span><span class='out-of-band'><div class='ghost'></div><a id='src-2229' class='srclink' href='../../src/syntect/src/parsing/syntax_set.rs.html#37-208' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.new' class='method'><code>fn <a href='#method.new' class='fnname'>new</a>() -&gt; <a class='struct' href='../../syntect/parsing/struct.SyntaxSet.html' title='syntect::parsing::SyntaxSet'>SyntaxSet</a></code></h4>
<h4 id='method.load_from_folder' class='method'><code>fn <a href='#method.load_from_folder' class='fnname'>load_from_folder</a>&lt;P:&nbsp;<a class='trait' href='https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html' title='core::convert::AsRef'>AsRef</a>&lt;<a class='struct' href='https://doc.rust-lang.org/nightly/std/path/struct.Path.html' title='std::path::Path'>Path</a>&gt;&gt;(folder: P) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/result/enum.Result.html' title='core::result::Result'>Result</a>&lt;<a class='struct' href='../../syntect/parsing/struct.SyntaxSet.html' title='syntect::parsing::SyntaxSet'>SyntaxSet</a>,&nbsp;<a class='enum' href='../../syntect/enum.LoadingError.html' title='syntect::LoadingError'>LoadingError</a>&gt;</code></h4>
<div class='docblock'><p>Convenience constructor calling <code>new</code> and then <code>load_syntaxes</code> on the resulting set
defaults to lines given not including newline characters, see the
<code>load_syntaxes</code> method docs for an explanation as to why this might not be the best.
It also links all the syntaxes together, see <code>link_syntaxes</code> for what that means.</p>
</div><h4 id='method.load_syntaxes' class='method'><code>fn <a href='#method.load_syntaxes' class='fnname'>load_syntaxes</a>&lt;P:&nbsp;<a class='trait' href='https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html' title='core::convert::AsRef'>AsRef</a>&lt;<a class='struct' href='https://doc.rust-lang.org/nightly/std/path/struct.Path.html' title='std::path::Path'>Path</a>&gt;&gt;(&amp;mut self, folder: P, lines_include_newline: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/result/enum.Result.html' title='core::result::Result'>Result</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>()</a>,&nbsp;<a class='enum' href='../../syntect/enum.LoadingError.html' title='syntect::LoadingError'>LoadingError</a>&gt;</code></h4>
<div class='docblock'><p>Loads all the .sublime-syntax files in a folder into this syntax set.
It does not link the syntaxes, in case you want to serialize this syntax set.</p>

<p>The <code>lines_include_newline</code> parameter is used to work around the fact that Sublime Text normally
passes line strings including newline characters (<code>\n</code>) to its regex engine. This results in many
syntaxes having regexes matching <code>\n</code>, which doesn&#39;t work if you don&#39;t pass in newlines.
It is recommended that if you can you pass in lines with newlines if you can and pass <code>true</code> for this parameter.
If that is inconvenient pass <code>false</code> and the loader will do some hacky find and replaces on the
match regexes that seem to work for the default syntax set, but may not work for any other syntaxes.</p>

<p>In the future I might include a &quot;slow mode&quot; that copies the lines passed in and appends a newline if there isn&#39;t one.
but in the interest of performance currently this hacky fix will have to do.</p>
</div><h4 id='method.load_plain_text_syntax' class='method'><code>fn <a href='#method.load_plain_text_syntax' class='fnname'>load_plain_text_syntax</a>(&amp;mut self)</code></h4>
<div class='docblock'><p>Rarely useful method that loads in a syntax with no highlighting rules for plain text.
Exists mainly for adding the plain text syntax to syntax set dumps, because for some
reason the default Sublime plain text syntax is still in <code>.tmLanguage</code> format.</p>
</div><h4 id='method.find_syntax_by_scope' class='method'><code>fn <a href='#method.find_syntax_by_scope' class='fnname'>find_syntax_by_scope</a>&lt;'a&gt;(&amp;'a self, scope: <a class='struct' href='../../syntect/parsing/struct.Scope.html' title='syntect::parsing::Scope'>Scope</a>) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;&amp;'a <a class='struct' href='../../syntect/parsing/syntax_definition/struct.SyntaxDefinition.html' title='syntect::parsing::syntax_definition::SyntaxDefinition'>SyntaxDefinition</a>&gt;</code></h4>
<div class='docblock'><p>Finds a syntax by its default scope, for example <code>source.regexp</code> finds the regex syntax.
This and all similar methods below do a linear search of syntaxes, this should be fast
because there aren&#39;t many syntaxes, but don&#39;t think you can call it a bajillion times per second.</p>
</div><h4 id='method.find_syntax_by_name' class='method'><code>fn <a href='#method.find_syntax_by_name' class='fnname'>find_syntax_by_name</a>&lt;'a&gt;(&amp;'a self, name: &amp;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.str.html'>str</a>) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;&amp;'a <a class='struct' href='../../syntect/parsing/syntax_definition/struct.SyntaxDefinition.html' title='syntect::parsing::syntax_definition::SyntaxDefinition'>SyntaxDefinition</a>&gt;</code></h4>
<h4 id='method.find_syntax_by_extension' class='method'><code>fn <a href='#method.find_syntax_by_extension' class='fnname'>find_syntax_by_extension</a>&lt;'a&gt;(&amp;'a self, extension: &amp;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.str.html'>str</a>) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;&amp;'a <a class='struct' href='../../syntect/parsing/syntax_definition/struct.SyntaxDefinition.html' title='syntect::parsing::syntax_definition::SyntaxDefinition'>SyntaxDefinition</a>&gt;</code></h4>
<h4 id='method.find_syntax_by_token' class='method'><code>fn <a href='#method.find_syntax_by_token' class='fnname'>find_syntax_by_token</a>&lt;'a&gt;(&amp;'a self, s: &amp;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.str.html'>str</a>) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;&amp;'a <a class='struct' href='../../syntect/parsing/syntax_definition/struct.SyntaxDefinition.html' title='syntect::parsing::syntax_definition::SyntaxDefinition'>SyntaxDefinition</a>&gt;</code></h4>
<div class='docblock'><p>Searches for a syntax first by extension and then by case-insensitive name
useful for things like Github-flavoured-markdown code block highlighting where
all you have to go on is a short token given by the user</p>
</div><h4 id='method.find_syntax_plain_text' class='method'><code>fn <a href='#method.find_syntax_plain_text' class='fnname'>find_syntax_plain_text</a>&lt;'a&gt;(&amp;'a self) -&gt; &amp;'a <a class='struct' href='../../syntect/parsing/syntax_definition/struct.SyntaxDefinition.html' title='syntect::parsing::syntax_definition::SyntaxDefinition'>SyntaxDefinition</a></code></h4>
<div class='docblock'><p>Finds a syntax for plain text, which usually has no highlighting rules.
Good as a fallback when you can&#39;t find another syntax but you still want
to use the same highlighting pipeline code.</p>

<p>This syntax should always be present, if not this method will panic.
If the way you load syntaxes doesn&#39;t create one, use <code>load_plain_text_syntax</code>.</p>

<h1 id='examples' class='section-header'><a href='#examples'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>use</span> <span class='ident'>syntect</span>::<span class='ident'>parsing</span>::<span class='ident'>SyntaxSet</span>;
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>ss</span> <span class='op'>=</span> <span class='ident'>SyntaxSet</span>::<span class='ident'>new</span>();
<span class='ident'>ss</span>.<span class='ident'>load_plain_text_syntax</span>();
<span class='kw'>let</span> <span class='ident'>syntax</span> <span class='op'>=</span> <span class='ident'>ss</span>.<span class='ident'>find_syntax_by_token</span>(<span class='string'>&quot;rs&quot;</span>).<span class='ident'>unwrap_or_else</span>(<span class='op'>||</span> <span class='ident'>ss</span>.<span class='ident'>find_syntax_plain_text</span>());
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>syntax</span>.<span class='ident'>name</span>, <span class='string'>&quot;Plain Text&quot;</span>);</pre>
</div><h4 id='method.link_syntaxes' class='method'><code>fn <a href='#method.link_syntaxes' class='fnname'>link_syntaxes</a>(&amp;mut self)</code></h4>
<div class='docblock'><p>This links all the syntaxes in this set directly with pointers for performance purposes.
It is necessary to do this before parsing anything with these syntaxes.
However, it is not possible to serialize a syntax set that has been linked,
which is why it isn&#39;t done by default, except by the load_from_folder constructor.
This operation is idempotent, but takes time even on already linked syntax sets.</p>
</div></div><h3 class='impl'><span class='in-band'><code>impl <a class='struct' href='../../syntect/parsing/struct.SyntaxSet.html' title='syntect::parsing::SyntaxSet'>SyntaxSet</a></code></span><span class='out-of-band'><div class='ghost'></div><a id='src-2930' class='srclink' href='../../src/syntect/src/dumps.rs.html#43-71' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.load_defaults_nonewlines' class='method'><code>fn <a href='#method.load_defaults_nonewlines' class='fnname'>load_defaults_nonewlines</a>() -&gt; <a class='struct' href='../../syntect/parsing/struct.SyntaxSet.html' title='syntect::parsing::SyntaxSet'>SyntaxSet</a></code></h4>
<div class='docblock'><p>Instantiates a new syntax set from a binary dump of
Sublime Text&#39;s default open source syntax definitions and then links it.
These dumps are included in this library&#39;s binary for convenience.
This method loads the version for parsing line strings with no <code>\n</code> characters at the end.</p>

<p>This is the recommended way of creating a syntax set for
non-advanced use cases. It is also significantly faster than loading the YAML files.</p>

<p>Note that you can load additional syntaxes after doing this,
you&#39;ll just have to link again. If you want you can even
use the fact that SyntaxDefinitions are serializable with
the bincode crate to cache dumps of additional syntaxes yourself.</p>
</div><h4 id='method.load_defaults_newlines' class='method'><code>fn <a href='#method.load_defaults_newlines' class='fnname'>load_defaults_newlines</a>() -&gt; <a class='struct' href='../../syntect/parsing/struct.SyntaxSet.html' title='syntect::parsing::SyntaxSet'>SyntaxSet</a></code></h4>
<div class='docblock'><p>Same as <code>load_defaults_nonewlines</code> but for parsing line strings with newlines at the end.
These are separate methods because thanks to linker garbage collection, only the serialized
dumps for the method(s) you call will be included in the binary (each is ~200kb for now).</p>
</div></div><h2 id='implementations'>Trait Implementations</h2><h3 id='derived_implementations'>Derived Implementations </h3><h3 class='impl'><span class='in-band'><code>impl <a class='trait' href='../../rustc_serialize/serialize/trait.Decodable.html' title='rustc_serialize::serialize::Decodable'>Decodable</a> for <a class='struct' href='../../syntect/parsing/struct.SyntaxSet.html' title='syntect::parsing::SyntaxSet'>SyntaxSet</a></code></span><span class='out-of-band'><div class='ghost'></div><a id='src-2186' class='srclink' href='../../src/syntect/src/parsing/syntax_set.rs.html#21' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.decode' class='method'><code>fn <a href='../../rustc_serialize/serialize/trait.Decodable.html#tymethod.decode' class='fnname'>decode</a>&lt;__D:&nbsp;<a class='trait' href='../../rustc_serialize/serialize/trait.Decoder.html' title='rustc_serialize::serialize::Decoder'>Decoder</a>&gt;(__arg_0: &amp;mut __D) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/result/enum.Result.html' title='core::result::Result'>Result</a>&lt;<a class='struct' href='../../syntect/parsing/struct.SyntaxSet.html' title='syntect::parsing::SyntaxSet'>SyntaxSet</a>,&nbsp;__D::Error&gt;</code></h4>
</div><h3 class='impl'><span class='in-band'><code>impl <a class='trait' href='../../rustc_serialize/serialize/trait.Encodable.html' title='rustc_serialize::serialize::Encodable'>Encodable</a> for <a class='struct' href='../../syntect/parsing/struct.SyntaxSet.html' title='syntect::parsing::SyntaxSet'>SyntaxSet</a></code></span><span class='out-of-band'><div class='ghost'></div><a id='src-2196' class='srclink' href='../../src/syntect/src/parsing/syntax_set.rs.html#21' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.encode' class='method'><code>fn <a href='../../rustc_serialize/serialize/trait.Encodable.html#tymethod.encode' class='fnname'>encode</a>&lt;__S:&nbsp;<a class='trait' href='../../rustc_serialize/serialize/trait.Encoder.html' title='rustc_serialize::serialize::Encoder'>Encoder</a>&gt;(&amp;self, __arg_0: &amp;mut __S) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/result/enum.Result.html' title='core::result::Result'>Result</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>()</a>,&nbsp;__S::Error&gt;</code></h4>
</div><h3 class='impl'><span class='in-band'><code>impl <a class='trait' href='https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html' title='core::fmt::Debug'>Debug</a> for <a class='struct' href='../../syntect/parsing/struct.SyntaxSet.html' title='syntect::parsing::SyntaxSet'>SyntaxSet</a></code></span><span class='out-of-band'><div class='ghost'></div><a id='src-2211' class='srclink' href='../../src/syntect/src/parsing/syntax_set.rs.html#21' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.fmt' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt' class='fnname'>fmt</a>(&amp;self, __arg_0: &amp;mut <a class='struct' href='https://doc.rust-lang.org/nightly/core/fmt/struct.Formatter.html' title='core::fmt::Formatter'>Formatter</a>) -&gt; <a class='type' href='https://doc.rust-lang.org/nightly/core/fmt/type.Result.html' title='core::fmt::Result'>Result</a></code></h4>
<div class='docblock'><p>Formats the value using the given formatter.</p>
</div></div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../../";
        window.currentCrate = "syntect";
        window.playgroundUrl = "";
    </script>
    <script src="../../jquery.js"></script>
    <script src="../../main.js"></script>
    
    <script defer src="../../search-index.js"></script>
</body>
</html>